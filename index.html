<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hopotta's Log</title>
  <link rel="stylesheet" href="./assets/style.css">
  <script>
    async function loadPosts() {
      const posts = [
        { path: './posts/posts1.html' }
        // to be continued
      ];

      const container = document.getElementById('post-container');
      for (const post of posts) {
        const response = await fetch(post.path);
        const text = await response.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, 'text/html');
        const title = doc.querySelector('meta[name="title"]').content;
        const author = doc.querySelector('meta[name="author"]').content;
        const date = doc.querySelector('meta[name="date"]').content;
        const readingTime = doc.querySelector('meta[name="reading-time"]').content;
        const description = doc.querySelector('meta[name="description"]').content;
        const card = document.createElement('div');
        card.className = 'post-card';
        card.innerHTML = `
          <h2>${title}</h2>
          <p>${description.length > 100 ? description.substring(0, 100) + '...' : description}</p>
          <div class="post-meta">
            <span>Date: ${date}</span> | 
            <span>Estimated Reading Time: ${readingTime}</span> | 
            <span>Author: ${author}</span>
          </div>
        `;
        card.onclick = () => window.location.href = post.path;
        container.appendChild(card);
      }
    }

    window.onload = loadPosts;
  </script>
</head>
<body>
  <header>
    <h1>Hopotta's Log</h1>
    <nav>
      <a href="#">Posts</a>
      <a href="./codespace/">CodeSpace</a>
      <a href="./paradox/">Paradox</a>
    </nav>
  </header>

  <main>
    <div id="post-container">
      <!-- to be continued -->
    </div>
  </main>

  <footer>
    <p>&copy; 2024 Hopotta. All rights reserved.</p>
  </footer>
</body>
</html>
